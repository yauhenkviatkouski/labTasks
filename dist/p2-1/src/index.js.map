{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./p2-1/src/index.js"],"names":["WeatherApi","state","currentLang","currentUnits","currentCity","data","cities","Minsk","en","ru","Homyel","Brest","Vitsyebsk","Mahilyow","Hrodna","weather","temp","overcast","degrees","imperial","metric","xhr","XMLHttpRequest","url","open","onerror","alert","onload","drawWeather","JSON","parse","response","send","document","querySelector","textContent","main","description","img","createElement","src","icon","removeChild","insertAdjacentElement","cityList","children","i","length","value","getWeather","addEventListener","e","target","weatherVidget","weatherApi"],"mappings":"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","file":"././p2-1/src/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./p2-1/src/index.js\");\n","// import './styles/styles.css';\nclass WeatherApi {\n  constructor() {\n    this.state = {\n      currentLang: 'ru',\n      currentUnits: 'metric', // imperial\n      currentCity: 'Minsk',\n    };\n\n    this.data = {\n      cities: {\n        Minsk: {\n          en: 'Minsk',\n          ru: 'Минск',\n        },\n        Homyel: {\n          en: 'Homyel',\n          ru: 'Гомель',\n        },\n        Brest: {\n          en: 'Brest',\n          ru: 'Брест',\n        },\n        Vitsyebsk: {\n          en: 'Vitsyebsk',\n          ru: 'Витебск',\n        },\n        Mahilyow: {\n          en: 'Mahilyow',\n          ru: 'Могилев',\n        },\n        Hrodna: {\n          en: 'Hrodna',\n          ru: 'Гродно',\n        },\n      },\n      weather: {\n        en: 'Weather',\n        ru: 'Погода',\n      },\n      temp: {\n        en: 'temperature',\n        ru: 'Температура',\n      },\n      overcast: {\n        en: 'Оvercast',\n        ru: 'Облачность',\n      },\n      degrees: {\n        imperial: '°F',\n        metric: '°C',\n      },\n    };\n  }\n\n  getWeather() {\n    const xhr = new XMLHttpRequest();\n    const url = 'http://api.openweathermap.org/data/2.5/weather?q=' +\n      this.state.currentCity +\n      ',by&APPID=63b5f0f7da4cdbc5f7ee9af7c7afbc96&lang=' +\n      this.state.currentLang +\n      '&units=' +\n      this.state.currentUnits;\n    xhr.open('GET', url);\n    xhr.onerror = () => {\n      alert('Something went wrong please reload the page');\n    };\n    xhr.onload = () => {\n      this.drawWeather(JSON.parse(xhr.response));\n    };\n    xhr.send();\n  }\n\n  drawWeather(response) {\n    document.querySelector('.title').textContent =\n      this.data.weather[this.state.currentLang];\n    document.querySelector('.city').textContent =\n      this.data.cities[this.state.currentCity][this.state.currentLang];\n    document.querySelector('.temp').textContent =\n      this.data.temp[this.state.currentLang] + ': ' +\n      response.main.temp + this.data.degrees[this.state.currentUnits];\n    document.querySelector('.overcast').textContent =\n      this.data.overcast[this.state.currentLang] + ': ' +\n      response.weather[0].description;\n\n    const img = document.createElement('img');\n    img.src = 'http://openweathermap.org/img/wn/' + response.weather[0].icon + '.png';\n    const icon = document.querySelector('.icon');\n    if (document.querySelector('.icon img')) {\n      icon.removeChild(document.querySelector('.icon img'));\n    }\n    icon.insertAdjacentElement('afterbegin', img);\n    const cityList = document.querySelector('.cities__list').children;\n    for (let i = 0; i < cityList.length; i += 1) {\n      cityList[i].textContent =\n        this.data.cities[cityList[i].value][this.state.currentLang];\n    }\n  }\n\n  weatherApi() {\n    this.getWeather();\n\n    document.querySelector('.lang__list').addEventListener('change', (e) => {\n      const value = e.target.value;\n      if (value === this.state.currentLang) return;\n      this.state.currentLang = value;\n      this.getWeather();\n    });\n\n    document.querySelector('.cities__list').addEventListener('change', (e) => {\n      const value = e.target.value;\n      if (value === this.state.currentCity) return;\n      this.state.currentCity = value;\n      this.getWeather();\n    });\n\n    document.querySelector('.system__list').addEventListener('change', (e) => {\n      const value = e.target.value;\n      if (value === this.state.currentUnits) return;\n      this.state.currentUnits = value;\n      this.getWeather();\n    });\n  }\n}\n\nconst weatherVidget = new WeatherApi;\nweatherVidget.weatherApi();\n"],"sourceRoot":""}